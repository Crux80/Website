<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Maps & Data - Suffolk Ponds Initiative</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> 
    </head>
<body>
    <header class="site-header">
        <div class="container header-flex">
             <div class="logo-container">
                 <a href="index.html" class="site-title">Suffolk Ponds Initiative</a>
             </div>
             <nav class="main-nav">
                 <ul>
                     <li><a href="index.html">Home</a></li>
                     <li><a href="issue-explained.html">The Issue</a></li>
                     <li><a href="visualizations.html" class="active">Maps & Data</a></li>
                     <li><a href="gallery.html">Gallery</a></li>
                     <li><a href="engage.html">Get Involved</a></li>
                 </ul>
             </nav>
             <button class="mobile-nav-toggle" aria-label="Toggle Menu" aria-controls="main-nav-ul" aria-expanded="false">
                <span class="sr-only">Menu</span>
                â˜°
            </button>
         </div>
    </header>

    <main>
        <section class="page-hero-section" style="background-image: url('images/interactive-data-banner.jpg');">
            <div class="page-hero-content container">
                <h1>Interactive Analysis: Ponds, Community & Market</h1>
                 <p class="subtitle">Explore geospatial data, population density, land use patterns, and real estate trends around the Suffolk County ponds.</p>
             </div>
        </section>

        <section class="container section-padding">
             <div class="text-center" style="margin-bottom: 40px;">
                 <p style="font-size: 1.1rem; max-width: 800px; margin: auto;">Interact with the map and charts below. Data is sourced from Suffolk County GIS, US Census, and Redfin Data Center.</p>
             </div>

             <article class="visualization-article">
                <h2 class="visualization-title">Hydrological Assessment</h2>  <div class="dashboard-container">
                    <iframe
                        src="https://www.arcgis.com/apps/dashboards/5468ea64b8c5441c9949cd4b7814d41d"
                        width="100%"
                        height="800px"  frameborder="0"
                        title="Hydrological Assessment"
                        allowfullscreen>
                    </iframe>
                </div>
                <div class="analysis-text">
                    <p>Explore real estate market trends for Smithtown and Stony Brook, including median sale prices, homes sold, and housing inventory.</p>
                    <p>Use the interactive elements within the dashboard to filter data and gain deeper insights.</p>
                </div>
            </article>
            
            <style>
                .dashboard-container {
                    width: 100%;
                    margin: 20px auto;
                    border: 1px solid #ccc;
                    border-radius: 5px;
                    overflow: hidden;
                }
            
                @media (max-width: 768px) {
                    .dashboard-container iframe {
                        height: 600px;
                    }
                }
            </style>

            <hr class="content-divider">

            <article class="visualization-article">
                 <h2 class="visualization-title">Community Context within Buffer Zones</h2>
                 <div class="chart-container">
                     <canvas id="populationBarChart"></canvas>
                     <h3 class="text-center">Population Totals (2020 Census)</h3>
                 </div>
                 <div class="analysis-text">
                     <p>Comparison of total population within 1.5km of each pond.</p>
                     <p><em>[Add population analysis.]</em></p>
                 </div>
                 <hr class="content-divider-minor">

                 <div class="pie-chart-container">
                     <div class="chart-container pie-chart">
                         <div id="piechart" style="width: 750px; height: 400px;"></div>
                         <h3 class="text-center">Mill Pond Buffer Land Use (2016)</h3>
                     </div>
                     <div class="chart-container pie-chart">
                         <div id="piechart" style="width: 750px; height: 400px;"></div>
                         <h3 class="text-center">Stump Pond Buffer Land Use (2016)</h3>
                     </div>

                  <div class="chart-container pie-chart">
                        <div id="millPondLandUseChart"></div>
                 </div>
                  <div class="table-container">
                     <h3 class="text-center">Land Use Legend</h3>
                     <table id="landUseTable" class="styled-table">
                         <thead><tr><th>Code</th><th>Land Use Type</th><th>Color</th></tr></thead>
                         <tbody></tbody>
                     </table>
                  </div>
                  <div class="analysis-text">
                     <p>Breakdown of land use types within the buffer zones.</p>
                     <p><em>[Add land use analysis.]</em></p>
                 </div>
                 <hr class="content-divider-minor">
                 <div class="chart-container">
                    <canvas id="parcelCountBarChart"></canvas>
                    <h3 class="text-center">Parcel Counts by Land Use Type</h3>
                 </div>
                  <div class="analysis-text">
                     <p>Number of parcels per land use type within the buffer zones.</p>
                      <p><em>[Add parcel count analysis.]</em></p>
                  </div>
            </article>
             <hr class="content-divider">

             <article class="visualization-article">
                <h2 class="visualization-title">Real Estate Market Trends (Mar 2024 - Mar 2025)</h2>
                <div class="chart-container">
                    <div id="medianSalePriceChart"></div>  <h3 class="text-center">Median Sale Price</h3>
                </div>
                <div class="analysis-text">
                    </div>
                <hr class="content-divider-minor">
                 <div class="chart-container">
                    <div id="homesSoldChart"></div>   <h3 class="text-center">Homes Sold</h3>
                </div>
                 <div class="analysis-text">
                    </div>
                <hr class="content-divider-minor">
                <div class="chart-container">
                    <div id="inventoryChart"></div>   <h3 class="text-center">Housing Inventory</h3>
                </div>
                <div class="analysis-text">
                    </div>
            </article>

        </section>
    </main>

    <footer class="site-footer-bottom">
         </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="visualizations.js"></script>
    <script src="script.js"></script> </body>
</html>